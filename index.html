<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pig-Locker</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
  <style>
    /* CSS ADICIONADO PARA ESTILIZAR O NOVO LINK DE CADASTRO */
    .signup-link {
      display: block;
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid #dddfe2;
      text-align: center;
      color: #3a3a6b;
      text-decoration: none;
      font-size: 14px;
      font-weight: bold;
      transition: text-decoration 0.2s ease;
    }
    .signup-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="loading-screen" class="screen active">
    <div class="loading-dots">
      <div></div>
      <div class="div-2"></div>
      <div class="div-3"></div>
    </div>
  </div>

  <div id="login-screen" class="screen">
    <div class="login-container">
      <h1>Boas vindas ao Pig-Locker</h1>
      <p>Seu gerenciador seguro de senhas</p>
      <form id="login-form">
        <div class="input-group">
          <label for="email">E-mail</label>
          <input type="email" id="email" placeholder="Digite seu e-mail" required />
          <a href="#" class="link">Lembrar e-mail</a>
        </div>
        <div class="input-group">
          <label for="password">Senha mestra</label>
          <div class="password-wrapper">
             <input type="password" id="password" placeholder="Digite sua senha" required />
             </div>
        </div>
        <button type="submit" class="btn">Continuar</button>
        <p id="login-error"></p>
      </form>
      <a href="signup.html" class="signup-link">Novo no Pig-Locker? Crie sua conta</a>
    </div>
  </div>
      
    </div>
  </div>

  <div id="tfa-screen" class="screen">
  <div class="login-container">
    <img src="icons/2fa-icon.webp" alt="√çcone 2FA" class="tfa-icon">
    <h1>Verifica√ß√£o de dois fatores</h1>
    <p>Abra seu aplicativo de autentica√ß√£o e insira o c√≥digo de 6 d√≠gitos.</p>
    <form id="tfa-login-form">
      <div class="input-group">
        <label for="tfa-code-login">C√≥digo de verifica√ß√£o</label>
        <input type="text" id="tfa-code-login" placeholder="123456" required pattern="\d{6}" maxlength="6" autocomplete="one-time-code">
      </div>
      <button type="submit" class="btn">Verificar</button>
      <p id="tfa-error"></p>
    </form>
    <button id="tfa-back-to-login-btn" class="btn-link">Voltar para o login</button>
  </div>
</div>

  <div id="main-screen" class="screen">
    <aside class="sidebar">
      <div class="sidebar-header">
  <a href="#" id="home-link-btn" style="display: flex; align-items: center; text-decoration: none; color: inherit;">
    <img src="icons/pig-removebg-preview.webp" alt="Pig-Locker Logo" class="logo-icon">
    <h1>Pig-Locker</h1>
  </a>
  </div>
      <nav class="sidebar-nav">
        <ul>
         <li class="nav-item active" data-target="lista-credenciais-container">
           <a href="#">
            <span class="nav-emoji">üîê</span> Meu cofre
          </a>
       </li>
      <li class="nav-item has-submenu" id="nav-configuracoes">
       <a href="#">
        <span><span class="nav-emoji">‚öôÔ∏è</span> Configura√ß√µes</span>
        <span class="arrow-emoji">‚ñº</span>
      </a>
      <ul class="submenu">
        <li class="nav-item" data-target="secao-minha-conta">
          <a href="#">
            <span class="nav-emoji">üê∑</span> Minha Conta
             </a>
            </li>
           </ul>
         </li>
        </ul>
    </nav>
    </aside>

    <main class="content-area">
      <header class="content-header">
        <button class="hamburger-btn" id="hamburger-btn">
        <span></span>
        <span></span>
        <span></span>
        </button>
      <h2 id="content-title">üîê Meu cofre</h2>
      <div class="header-actions">
        </div>
        <div class="header-actions">
          <button class="btn novo-btn" id="show-form-nova-credencial">+ Novo</button>
          <div class="profile-icon" id="profile-icon-trigger">PL</div>
          <div class="profile-menu" id="profile-menu-dropdown" style="display: none;">
              <a href="#" class="nav-item" data-target="secao-minha-conta">Minha Conta</a>
              <a href="#" id="lock-now-btn">Bloquear agora</a>
              <a href="#" id="logout-btn">Encerrar sess√£o</a>
          </div>
        </div>
      </header>

      <div id="lista-credenciais-container" class="content-section active-section">
        <div class="table-controls">
      <div> <input type="checkbox" id="select-all-checkbox" />
        <label for="select-all-checkbox">Todos</label>
      </div>
     <button class="btn btn-danger btn-sm" id="delete-selected-btn" style="display: none;">
      Excluir Selecionados
   </button>
</div>
        <div class="table-header-custom">
          <span></span>
          <span>Nome</span>
          <span>Nome de Usu√°rio</span>
          <span>A√ß√µes</span>
        </div>
        <div class="table-body-custom">
          </div>
        <div class="empty-list-message" style="display: none; text-align: center; padding: 40px; color: #777;">
            <h3>Nenhuma credencial encontrada.</h3>
            <p>Clique em "Novo +" para adicionar sua primeira credencial.</p>
        </div>
      </div>

      <div id="form-nova-credencial-container" class="content-section" style="display: none;">
        <h3>Criar nova credencial</h3>
        <form id="novo-form">
          <div class="form-group">
            <label for="novo-nome-item">Nome do item</label>
            <input type="text" id="novo-nome-item" placeholder="Ex: Gmail, Facebook" required />
          </div>
          <fieldset>
            <legend>Credenciais de login</legend>
            <div class="form-group">
              <label for="novo-login">Nome de usu√°rio</label>
              <input type="text" id="novo-login" placeholder="Ex: usuario@exemplo.com" required />
            </div>
            <div class="form-group">
              <label for="novo-senha">Senha</label>
              <div class="password-wrapper">
                <input type="password" id="novo-senha" placeholder="Digite sua senha segura" required />
                <button type="button" class="toggle-password" aria-label="Mostrar senha">
                  <img src="icons/olho.webp" alt="Mostrar Senha" class="icon-eye">
                </button>
              </div>
            </div>
          </fieldset>
          <fieldset>
            <legend>Op√ß√µes de autopreenchimento</legend>
            <div class="form-group">
              <label for="novo-site">Site</label>
              <input type="url" id="novo-site" placeholder="Ex: https://www.exemplo.com" />
            </div>
          </fieldset>
          <div class="form-actions">
            <button type="button" class="btn btn-secondary cancel-form-btn">Cancelar</button>
            <button id="salvar-btn" type="submit" class="btn">Criar credencial</button>
          </div>
        </form>
      </div>
      
      <div id="form-editar-credencial-container" class="content-section" style="display: none;">
        <h3>Editar credencial</h3>
        <form id="edit-form">
          <input type="hidden" id="edit-credential-id">
          <div class="form-group">
            <label for="edit-nome-item">Nome do item</label>
            <input type="text" id="edit-nome-item" required />
          </div>
          <fieldset>
            <legend>Credenciais de login</legend>
            <div class="form-group">
              <label for="edit-login">Nome de usu√°rio</label>
              <input type="text" id="edit-login" required />
            </div>
            <div class="form-group">
              <label for="edit-senha">Senha</label>
              <div class="password-wrapper">
                <input type="password" id="edit-senha" placeholder="Nova senha (deixe em branco para n√£o alterar)" />
                <button type="button" class="toggle-password" aria-label="Mostrar senha">
                  <img src="icons/olho.webp" alt="Mostrar Senha" class="icon-eye">
                </button>
              </div>
            </div>
          </fieldset>
          <fieldset>
            <legend>Op√ß√µes de autopreenchimento</legend>
            <div class="form-group">
              <label for="edit-site">Site</label>
              <input type="url" id="edit-site" />
            </div>
          </fieldset>
          <div class="form-actions">
             <button type="button" class="btn btn-danger delete-from-edit-btn">üóëÔ∏è Excluir</button>
            <div>
                <button type="button" class="btn btn-secondary cancel-form-btn">Cancelar</button>
                <button id="salvar-edit-btn" type="submit" class="btn">Salvar</button>
            </div>
          </div>
        </form>
      </div>

      <div id="secao-minha-conta" class="content-section">
        <h3>Minha Conta</h3>
        
        <div class="form-section">
            <form id="minha-conta-form">
                <div class="form-group">
                    <label for="mc-nome-usuario">Nome de usu√°rio</label>
                    <input type="text" id="mc-nome-usuario" placeholder="Digite seu nome de usu√°rio">
                </div>
                <div class="form-group">
                    <label for="mc-email">E-mail</label>
                    <input type="email" id="mc-email" readonly>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn">Salvar Altera√ß√µes</button>
                </div>
            </form>
        </div>

        <div class="form-section">
            <h4 class="section-subtitle">Autentica√ß√£o de dois fatores (2FA)</h4>
            <p>Aumente a seguran√ßa da sua conta exigindo um c√≥digo de verifica√ß√£o ao fazer login.</p>
            <button id="enable-2fa-btn" class="btn">Habilitar 2FA</button>
            <button id="remove-2fa-btn" class="btn btn-danger" style="display: none;">Remover 2FA</button>
            
            <div id="2fa-setup-section" style="display: none;">
                <p>1. Escaneie este QR Code com seu aplicativo de autentica√ß√£o.</p>
                <img id="qr-code-img" src="" alt="QR Code para 2FA">
                <p>N√£o consegue escanear? Insira esta chave manualmente:</p>
                <p id="manual-secret-key"></p>
                <form id="2fa-verify-form">
                    <div class="form-group">
                        <label for="tfa-code">2. Insira o c√≥digo de 6 d√≠gitos</label>
                        <input type="text" id="tfa-code" name="tfa_code" placeholder="123456" required pattern="\d{6}" maxlength="6">
                    </div>
                    <button type="submit" class="btn">Verificar e Ativar</button>
                </form>
            </div>
        </div>
      </div> 

    </main>
  </div>

  <div id="modal-excluir-item" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <span class="modal-close-btn">&times;</span>
      <div class="modal-icon-warning">‚ö†Ô∏è</div>
      <h3>Excluir item</h3>
      <p>Voc√™ tem certeza que deseja excluir esse item?</p>
      <p class="modal-warning-text">Importante: Ap√≥s excluir, n√£o ser√° poss√≠vel desfazer a a√ß√£o.</p>
      <div class="modal-actions">
        <button id="confirmar-exclusao-btn" class="btn btn-danger">Sim</button>
        <button id="cancelar-exclusao-btn" class="btn btn-secondary">N√£o</button>
      </div>
    </div>
  </div>

  <div id="lock-screen" class="screen">
    <div class="login-container">
        <img src="icons/pig-removebg-preview.webp" alt="Pig-Locker Logo" style="width: 60px; margin-bottom: 20px;">
        <h1>Seu cofre est√° bloqueado</h1>
        <p id="lock-screen-email" style="font-weight: bold;"></p>

        <form id="unlock-form">
            <div class="input-group">
                <label for="unlock-password">Senha mestra (obrigat√≥rio)</label>
                <div class="password-wrapper">
                    <input type="password" id="unlock-password" placeholder="Digite sua senha mestra" required />
                    <button type="button" class="toggle-password" aria-label="Mostrar senha">
                        <img src="icons/olho.webp" alt="Mostrar Senha" class="icon-eye">
                    </button>
                </div>
                <p id="unlock-error" style="color: #ffcccc; margin-top: 10px; display: none;"></p>
            </div>

            <button type="submit" class="btn">Desbloquear</button>
        </form>

        <div style="margin: 20px 0; text-align: center; color: #ccc;">ou</div>

        <button id="logout-from-lock-screen" class="btn btn-outline" style="width: 100%;">Encerrar sess√£o</button>
    </div>
</div>

<div id="modal-remover-2fa" class="modal-overlay">
  <div class="modal-content">
    <span class="modal-close-btn">&times;</span>
    <h3>Remover Autentica√ß√£o de Dois Fatores</h3>
    <p>Para sua seguran√ßa, por favor, insira sua senha mestra para confirmar a remo√ß√£o do 2FA.</p>
    <form id="remove-2fa-form" style="margin-top: 20px;">
        <div class="form-group">
            <label for="remove-2fa-password">Senha Mestra</label>
            <input type="password" id="remove-2fa-password" required>
            <p id="remove-2fa-error" style="color: red; margin-top: 10px; display: none;"></p>
        </div>
        <div class="modal-actions">
            <button type="button" class="btn btn-secondary modal-cancel-btn">Cancelar</button>
            <button type="submit" class="btn btn-danger">Confirmar Remo√ß√£o</button>
        </div>
    </form>
  </div>
</div>


  <script src="script.js"></script>
</body>
</html>